def v1 =
    |tcppoll()
    .every(100ms)
    .ip('127.0.0.1')
    .port(5555)

def window =
v1
    |win_time()
    .every(12s)
    .period(12s)

window
    |variance()
    .perc(85)
    .field('val')
    .as('variance')
window
    |sum()
    .as('sum')
    .field('val')

def median =
window
    |median()
    .as('median')
    .field('val')

median
    |first()
    .as('first')
    .field('median')

